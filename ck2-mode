(add-to-list 'load-path
			 "~/.emacs.d/plugins/")
(load "highlight-indentation")
(require 'highlight-indentation)

(setq ck2-font-lock-keywords
	  (let* (
			 ;; define several category of keywords
			 (x-keywords '("if" "NOR" "NOT" "OR" "immediate" "AND" "â•–" "FROM" "random_events" "random_list" "limit" "ROOT"  "random_real_character" "random" "reverse_option" ;; blue. all colours are depends which !symbols
						   "potential" "allow" "revoke_allowed" "ai_will_do" "active" "weight" "artifacts" "spawn_chance" "spriteTypes" "spriteType" "add_character_modifier" "opinion" ;; color scheme used. check "font-lock*"
						   "allowed_gift" "decisions" "liege" "ai_will_do" "modifier" "any_character"
						   
						   )) 

		     (x-traits '( "stacking" "indestructible" "slot"  "ceremonial_weapon" "scepter" "crown" "wrist" "neck" "torso" "quality" "death" "wounded" "one_legged" ; dark green (NOT BROWN-green!) ! symbols
						 "celibate" "hedonist" "scholar" "gardener" "mystic" "impaler" "duelist" "hunter" "poet" "falconer" "lustful" "chaste" "gluttonous" "temperate" "greedy" "charitable" "slothful" "diligent" "envious" "kind" "wroth" "patient" "proud" "humble" "OTHER" "deceitful" "honest" "craven" "brave" "shy" "gregarious" "ambitious" "content" "arbitrary" "just" "cynical" "zealous" "paranoid" "trusting" "cruel" "light_foot_leader" "heavy_infantry_leader" "cavalry_leader" "inspiring_leader" "trickster" "organizer" "defensive_leader" "experimenter" "flanker" "aggressive_leader" "scarred" "eunuch" "blinded" "born_in_the_purple" "augustus" "flat_terrain_leader" "rough_terrain_leader" "mountain_terrain_leader" "desert_terrain_leader" "holy_warrior" "unyielding_leader" "has_aztec_disease" "bracken" "blackwood" "kingsguard" "tiger" "giant" "has_grey_plague" "has_greyscale" "has_bloody_flux" "not_a_bear" "has_pox" "has_missing" "nightswatch" "turncloak" "deserter" "fire_obsessed" "Wildling" "Pirate" "People hunting" "hunting" "winterhorn" "Reaving" "salt_wife" "poor_warrior" "trained_warrior" "skilled_warrior" "master_warrior" "dothraki" "dosh_khaleen" "inherit" "dragon_egg" "child_dragon" "wild_dragon" "dragon" "dragon_slayer" "knight" "squire" "money_lender" "detached_priest" "martial_cleric" "scholarly_theologian" "mastermind_theologian" "incompetent_scientist" "dutiful_academic" "expert_scientist" "mastermind_scholar" "maester" "fashionable" "crippled" "rude" "authoritative" "ruthless" "blind" "honorable" "back_seat_leader" "silent_sister" "red_priest" "favored_by_rhllor" "chosen_by_rhlor" "drowned" "grace" "stubborn" "warlock" "crow" "wolf" "greensight" "sea_lion" "whale" "eagle" "shadowcat" "boar" "snowbear" "direwolf" "slave" "slave_trader" "slave_owner" "former_slave" "liberator" "rebel_leader" "dead_target" "kingsmoot target" "employseer" "employhedge" "employmarshall" "employpriest" "employsteward" "employchancelor" "employspy" "employdebutante" "wikiddirewolf" "wikidcrow" "wikideagle" "wikiddog" "pending_infection" "severely_injured"
						 "infection" "lunatic" "pending_infection" "fever" "martial" "diplomacy" "intrigue" "stewardship" "learning" "base_health" "demesne_efficiency" "decadence" "dynasty_realm_power" "fertility" "infamy" "mercenary_siphon_factor" "monthly_income" "plot_power" "population_factor" "relative_power_to_liege" "religion_authority" "revolt_risk" "scaled_wealth" "yearly_income" "ai_ambition" "ai_greed" "ai_honor" "ai_rationality" "ai_zeal" "among_most_powerful_vassals" "combat_rating" "demesne_garrison_size" "demesne_size" "health_traits" "imprisoned_days" "lifestyle_traits" "max_manpower" "num_fitting_characters_for_title" "num_of_baron_titles" "num_of_buildings" "num_of_children" "num_of_claims" "num_of_consorts" "num_of_count_titles" "num_of_count_titles_in_realm" "num_of_duke_titles" "num_of_dynasty_members" "num_of_emperor_titles" "num_of_empty_holdings" "num_of_extra_landed_titles" "num_of_feuds" "num_of_friends" "num_of_holy_sites" "num_of_king_titles" "num_of_lovers" "num_of_max_settlements" "num_of_plot_backers" "num_of_prisoners" "num_of_rivals" "num_of_settlements" "num_of_subrealm_castles" "num_of_subrealm_cities" "num_of_spouses" "num_of_titles" "num_of_trade_posts" "num_of_traits" "num_of_unique_dynasty_vassals" "num_of_vassals" "over_max_demesne_size" "over_vassal_limit" "personality_traits" "piety" "population" "population_and_manpower" "prestige" "realm_diplomacy" "realm_intrigue" "realm_learning" "realm_martial" "realm_stewardship" "realm_levies" "realm_levies_plus_allies" "max_realm_levies" "realm_size" "republic_total_num_of_trade_posts" "ruled_years" "score" "unused_manpower" "retinue_points_max" "retinue_points_used" "retinue_points_free" "total_tax_value" "holding_tax_value" "dynastic_prestige" "society_currency"
						 "archmaester" "monthly_character_prestige" "monthly_character_piety"
						 "vassal_opinion" "combat_rating" 
						 ))
			 
			 (x-types '("add_artifact" "add_trait" "remove_trait" "days" "months" "years" "text" "regent" "trait" "who" "chance" "ai" ; brown-green !symbols
						"clr_character_flag" "set_character_flag" "remove_character_modifier" "clr_dynasty_flag" "on_startup" "on" "_yearly_pulse" "on_bi_yearly_pulse" "on_five_year_pulse" "on_decade_pulse" "on" "_yearly_childhood_pulse" "on_childhood_pulse" "on_adolescence_pulse" "on_focus_pulse" "on_province_major_modifier" "on_outbreak" "on_combat_pulse" "on_siege_pulse" "on_battle_won" "on_major_battle_won" "on_battle_won_leader" "on_major_battle_won_leader" "on_battle_won_owner" "on_battle_lost" "on_major_battle_lost" "on_battle_lost_leader" "on_major_battle_lost_leader" "on_battle_lost_owner" "on_siege_won_leader" "on_siege_lost_leader" "on_siege_over_winner" "on_siege_over_loc_chars" "on_failed_assassination" "on_failed_assassination_disc" "on_assassination" "on_assassination_disc" "on_birth" "on_adulthood" "on_post_birth" "on_pregnancy" "on_marriage" "on_become_imprisoned_any_reason" "on_avoided_imprison_started_war" "on_became_imprisoned" "on_avoided_imprison_fled_country" "on_released_from_prison" "on_executed" "on_exiled" "on_prepared_invasion_monthly" "on_prepared_invasion_aborts" "on_prepared_invasion_expires" "on_death" "on_merc_rampage" "on_merc_leave" "on_merc_turn_coat_from" "on_merc_turn_coat_to" "on_holy_order_leave" "on_loot_settlement" "on_Ioot_province" "on_warleader_death" "on_approveJaw" "on_approve_deJure_law" "on_rebeLrevoIt" "on_defect_to_rebels" "on_defect_from_rebels" "on_crusade_creation" "on_crusade_invalid" "on_crusade_success" "on_crusade_failure" "on_forced_consort" "on_reform_religion" "on_county_religion_change" "on_vassaI_accepts_religious_corwersion" "on_heresy_takeover" "on_become_doge" "on_elective_gavelkind_succession" "on_entering_port" "on_rel_elector_chosen" "on_rel_head_chosen" "on_settlement_looted" "on_navy_returns_with_loot" "on_create_title" "on_new_holder" "on_new_holder_inheritance" "on_new_holder_usurpation" "on_create_chronicle_if_empty" "on_chronicle_owner_change" "on_chronicle_start" "on_character_convert_religion" "on_character_convert_culture" "on_acquire_nickname" "on_over_vassaI_Iimit_succession" "on_war_sta" "rted" "on_war_ended_victory" "on_war_ended_invalid" "on_war_ended_whitepeace" "on_war_ended_defeat" "on_divorce" "on_holding_building_start" "on_settlement_construction_start" "on_settlement_construction_completed" "on_trade_post_construction_start" "on_trade_post_construction_completed" "on_fort_construction_start" "on_fort_construction_completed" "on_feud_sta" "rted" "on_feud_ended" "on_blood_brother_death" "on_ai_end_raid" "on_mercenary_hired" "on_mercenary_dismissed" "on_mercenary_captain_replacement" "on_enforce_peace" "on_enforce_peace_start" "on_enforce_peace_six_vassals" "on_law_vote_passed" "on_law_vote_failed" "on_player_mercenary_income" "on_artifact_inheritance"
						"abandon_heresy" "abdicate_to" "abdicate_to_most_liked_by" "activate_plot" "activate_title" "add_alliance" "add_ambition" "add_betrothal" "add_building" "add_friend" "add_holding_modifier" "add_holding_slot" "add_law_w_c" "ooldown" "add_objective" "add_population_scaled" "add_pressed_claim" "add_province_modifier" "add_random_education_trait" "add_society_modifier" "add_spouse_matrilineal" "add_to_extra_holding" "add_weak_claim" "add_weak_pressed_claim" "adjust_siphon_factor" "back_plot" "banish_religion" "best_flt_character_for_title" "break_alliance" "break_betrothal" "build_holding" "cancel_ambition" "cancelJob_action" "cancel_objective" "cancel_plot" "capital" "change_diplomacy" "change_infa" "my" "change_intrigue" "change_learning" "change_martial" "change_mercenary_composition" "change_plot_power" "change_random_civ_tech" "change_random_eco_tech" "change_random_miLtech" "change_society_currency" "change_stewards_hip" "change_tech" "change_title_army_size" "change_variable" "character_event" "chronicle" "clan_opinion" "clan_reverse_opinion" "clear_delayed_event" "clear_education_trait" "clear_event_target" "clear_flags_with_prefix" "clear_global_event_target" "clear_global_event_targets" "clear_secret_religion" "clear_wealth" "clr_artifact_flag" "clr_character_flag" "clr_discovered_society" "clr_global_flag" "clr_province_flag" "clr_quest_target" "clr_title_flag" "conquest_culture" "convert_to_secret_religion" "copy_random_pers" "onality_trait" "copy_title_history" "copy_title_laws" "create_family_palace" "create_hospital" "create_random_diplomat" "create_random_intriguer" "create_random_priest" "create_random_soldier" "create_random_steward"
						"create_title" "create_tradepost" "culture" "culture_techpoints" "cure_illness" "cut_mercenary_creator_relation" "damage_unit" "damage_unit_morale" "deJureJiege" "death" "decadence" "decline_law" "destroy_artifact" "destroy_fort" "destroy_hospital" "destroy_in_extra_holding" "destroy_landed_title" "destroy_random_building" "destroy_settlement" "destroy_tradepost" "diplomatic_immunity" "disable_council_voting_on_issue" "disable_prepared_invasion" "disband_event_forces" "divide_variable" "economy_techpoints" "enable_council_voting_on_issue" "enable_prepared_invasion" "end_oath" "export_to_variable" "fertility" "gain_all_occupied_titles" "gain_settlements_under_title" "gain_title" "gain_title_plus_barony_if_unlanded" "giveJob_title" "give_minor_title" "grant_kingdom_w_adjudication" "grant_title" "grant_title_no_opinion" "health" "hold_election" "impregnate_cuckoo" "join_defender_wars" "leave_plot" "make_capital_holding" "make_primary_s" "pouse" "make_primary_title" "make_tributary" "military_techpoints" "multiply_variable" "occupy_minors_of_occupied_settlements" "participation_scaled_decadence" "participation_scaled_piety" "participation_scaled_prestige" "plot_succeeds" "population" "province_capital" "rebel_defection" "refill_holding_levy" "religion_authority" "remove_building" "remove_character_modifier" "remove_character_modifiers" "remove_holding_modifier" "remove_holding_modifiers" "remove_special_character_title" "remove_tributary" "reset_coa" "reveaLpIot" "reveal_plot_w_message" "reverse_a" "dd_favor" "reverse_banish" "reverse_culture" "reverse_imprison" "reverse_opinion" "reverse_religion" "revers" "e_remove_favor" "reverse_remove_opinion" "reverse_unsafe_war" "reverse_war" "revoke_capital_holding" "revoke_law" "save_event_target_as" "save_global_event_target_as" "scaled_piety" "scaled_prestige" "scaled_wealth" "seize_trade_post" "set_allow_free_duchy_revokation" "set_allow_free_infideI_revokation" "set_allow_free_revokation" "set_allow_title_revokation" "set_allow_feminism" "set_allow_free_vice_royality_revokation" "set_allow_gender_laws" "set_allow_vice_royalties" "set_allows_matrilineal_marriage" "set_appoint_generals" "set_appoint_regents" "set_artifact_flag" "set_artifact_original_owner" "set_can_toggle_looting" "set_characte" "r_flag" "set_defacto_liege" "set_defacto_vassal" "set_description" "set_discovered_society" "set_dynasty_flag" "set_father" "set_flank_tactic" "set_global_flag" "set_government_type" "set_graphical_culture" "set_interested_society" "set_job_action" "set_looting" "set_mercenary_maintenance_modifier" "set_opinion_levy_raised_days" "set_parent_religion" "set_pentarch_title" "set_preferred_capital" "set_protected_inhe" "rita" "nce" "set_province_flag" "set_quest_target" "set_real_father" "set_secret_religion" "set_society_grandmaster" "set_speciaLcharacter_title" "set_the_kings_full_peace" "set_the_kings_peace" "set_title_flag" "set_title_adventurer" "set_title_landless" "set_title_nomad" "set_tribaI_vassal_levy_control" "set_tribaLvassaI_tax_income" "set_variable" "society_rank_down" "society_rank_up" "sound_effect" "spawn_disease" "spawn_fleet" "spawn_unit" "start_faction" "start_outbreak" "steal_population_scaled" "steal_random_tech" "subjugate_or_take_under_title" "subtract_variable" "succession" "succession_w_cooldown" "match_character" "match_mult" "disband_on_peace" "maintenance_multiplier" "scaled_by_biggest_garrison" "can_toggle_looti" "ng" "reinforce_rate_muItipIier" "start_outbreak" "steal_population_scaled" "steal_random_tech" "subjugate_or_take_under_title" "subtract_variable" "succession" "succession_w_cooldown" "transfer_artifact" "transfer_scaled_wealth" "treasury" "trigger_switch" "troops" "unsafe_destroy_landed_title" "usurp_title" "usurp_title_only" "usurp_title_plus_barony_if_unlanded" "usurp_title_plus_barony_if_unlanded" "and_vassals" "usurp_title_plus_barony_if_unlanded" "and_vassals_no_adj" "vassalize_or_take_under_title" "vassalize_or_take_under_title" "destroy_duchies"
						
						))
			 (x-constants '("EVTOPTA" "EVTOPTB" "EVTDESC" "EVTOPTC" "EVTOPTD" "EVTNAME" "EVTDESC" "RIP" "EVTDESCA" ;; light blue !w
							"hidden" "tooltip_info" "events" "tooltip" 
							"TOOLTIP" "GFX_evt" "GFX_event" "hidden_tooltip" "custom_tooltip" "tooltip_info" "texturefile"
							"GFX_event_normal_frame_diplomacy" "GFX_event_normal_frame_war" "GFX_event_normal_frame_economy" "GFX_event_normal_frame_intrigue" "GFX_event_normal_frame_religion" "GFX_event_long_frame_diplomacy" "GFX_event_long_frame_diplomacy" "GFX_event_long_frame_war" "GFX_event_long_frame_economy" "GFX_event_long_frame_intrigue" "GFX_event_long_frame_religion" "GFX_event_letter_frame_diplomacy" "GFX_event_letter_frame_war" "GFX_event_letter_frame_war_big" "GFX_event_letter_frame_economy" "GFX_event_letter_frame_intrigue" "GFX_event_letter_frame_religion" "GFX_event_narrative_frame_diplomacy" "GFX_event_narrative_frame_war" "GFX_event_narrative_frame_economy" "GFX_event_narrative_frame_intrigue" "GFX_event_narrative_frame_religion"
							))
			 
			 (x-events '("only_playable" "is_part_of_plot" "only_rulers" "religion" "religion_group" "culture_group" ; green !symbols			 
						 "min_age" "max_age" "age" "only_independent" "only_men" "only_women" "only_capable" "capable_only" "lacks_dlc" "has_dlc" "friends" "rivals" "prisoner" "ai_chance" "is_patrician" "is_female" "is_married"
						 "is_ill" "is_incapable" "pilgrim" "job" "job_castellan" "job_chancellor" "job_treasurer" "job_physician" "has" "has_job_title" "has_game_rule" "has_character_modifier" "had_character_flag" "had_dinasty_flag" "disease_not_serious " "has_regent" "has_character_flag" "has_artifact" "has_dynasty_flag"
						 "mercenary_siphon_factor" "month" "month_of_birth" "monthly_income" "monthly_piety" "monthly_prestige" "multiplayer" "num_culture_realm_provs" "num_fitting_characters_for_title" "num_of_artifacts" "num_of_baron_titles" "num_of_buildings" "num_of_children" "num_of_daims" "num_of_consorts" "num_of_count_titles" "num_of_count_titles_in_realm" "num_of_duke_titles" "num_of_dynasty_members" "is" "ruler" "is_save_game" "is" "seafarer" "is_society_discovered" "is_society_discovered_real" "is_society_grandmaster" "is_society_rank_full" "is_theocracy" "is_title_active" "is_titular" "i" "s_treasurer" "is_tribal" "is_tribal_type_title" "is_tributary" "is_valid_attraction" "is_valid_romance_target" "is_valid_viking_invasion_target" "is_variable_equal" "is_vassal_or_below" "is_vice_royalty" "is_voter" "is_winter" "is_within_diplo_range" "leader_traits" "leads_faction" "learning" "is_powerful_vassal" "is_parent_of" "is_patrician" "is_preferred_holding_type" "is_pregnant" "is_pretender" "is_priest" "is_primary_heir" "is_primary_holder_title" "is_primary_holder_title_tier" "is_primary_type_title" "is_primary_war_attacker" "is_primary_war_defender" "is_quest_target" "is_quest_target_of" "is_recent_grant" "is_reformed_religion" "is" "reincarnated" "is_republic" "is" "rival" "is" "land" "is" "landed" "is_landed_tide_allowed" "is_landless_type_title" "is_liege_of" "is_liege_or_above" "is_located_in" "is_looting" "is_looting_in" "is" "lover" "is" "lowborn" "is_main_spouse" "is_marriage_adult" "is" "married" "is_married_matrilineally" "is_merchant_republic" "is" "mother" "is_multiplayer_host_character" "is_navy" "is_nibling_of" "is" "nomadic" "is_occupied" "is_older_than" "is_opposite_sex" "is_or_was_offmap_power_ruler" "is_parent_religion" "is_descendant_of" "is_dying" "is_father" "is_father_real_father" "is_female" "is" "feudal" "is" "foe" "is_former_lover" "is" "friend" "is_government_potential" "is_grandchild_of" "is_grandparent_of" "is_guardian" "is_hard_to_convert" "is" "heir" "is_heresy_of" "is" "heretic" "is_holy_site" "is_in_society" "is_incapable" "is_indestructible" "is_interested_in_any_society" "is_ironman" "is_island" "is_allied_with" "is_allowed_holding_type" "is_allowed_to_loot" "is_ancestor_of" "is_artifact_active" "is_artifact_equipped" "is_artifact_same_type_as" "is_at_sea" "is" "attacker" "is_aunt_uncle_of" "is_betrothed" "is_capital" "is_child_of" "is_dose_relative" "is_conquered" "is_consort" "is_contested" "is_council_content" "is" "councillor" "holding_diff" "holding_type" "hospital_has_any_building" "hospital_has_building" "hospital_level" "holds_favor_on" "holy_order" "immortal" "imprisoned_days" "independent" "infamy" "intrigue" "in_battle" "in_command" "in_faction" "in_revolt" "in_siege" "interested_in_society" "interested_in_society_of_character" "is_abroad" "is_adult" "is_alive" "has_position" "has_province_fiag" "has_province_modifier" "has_quest" "has_raised_levies" "has_raised_standing_troops" "has_regent" "has_regiments" "has_secret_religion" "has_setdement_construction" "has_siege" "has_strong_daim" "has_terrain_specialization" "has_title_fiag" "has_trade_post" "hasjob_action" "hasjob_title" "has_known_creation_date" "has_landed_titie" "has_law" "has_liege_enforced_peace" "has_living_children" "has_lover" "has_mercenary_band" "has_mercenary_maintenance_modifier" "has_minor_title" "has_newly_acquired_titles" "has_nickname" "has_non_aggression_pact_with" "has_objective" "has_opinion_modifier" "has_overseas_holdings" "has_owner" "has_plot" "has_polygamy" "has_portrait_property" "has_feud_with" "has_focus" "has_game_rule" "has_game_started" "has_global_fiag" "has_guardian" "has_heresies" "has_higher_tech_than" "has_holder" "has_hospital" "has_holding_modifier" "has_horde_culture" "has_inheritance_blocker" "has_instances_of_character_modifier" "has_instances_of_holding_modifier" "has_instances_of_province_modifier" "has_character_fiag" "has_character_modifier" "has_children" "has_daim" "has_council" "has_concubinage" "has_crown_law_tide" "has_de" "jure_pretension" "has_disease" "has_dlc" "has_dynasty_fiag" "has_earmarked_regiments" "has_earmarked_regiments_not_raidi" "has_embargo" "has_empty_holding" "has_epidemic" "graphical_culture" "had_artifact_fiag" "had_character_fiag" "had_dynasty_fiag" "had_global_fiag" "had_province_flag" "had_title_fiag" "has_ambition" "has_any_opinion_modifier" "has_any_quest" "has_any_symptom" "has_artifact" "has_artifact_fiag" "has_assigned_minor_title" "has_building" "demesne_efficiency" "demesne_garrison_size" "demesne_size" "demesne_size_compared_to_limit" "de_facto_liege" "de_facto_liege_title" "dejure_liege" "dejure_liege_or_above" "dejure_vassal_or_below" "death_reason" "decadence" "disease" "disease_defence" "dynastic_prestige" "dynasty" "difficulty" "diplomacy" "diplomaticjmmunity" "dislike_tribal_organization" "distance" "distance_from_realm" "dynasty_realm_power" "excommunicated_for" "faction_exists" "faction_power" "family" "combat_rating_diff" "completely_controls" "completely_controls_region" "conquest_culture" "continent" "controlled_by" "controls_religion" "could_be_parent_of" "count" "culture" "culture_group" "day_of_birth" "days_at_current_society_rank" "days_in_society" "can_copy_personality_trait_from" "can_have_more_leadership_traits" "can_hold_title" "canjoin_society" "can_marry" "can_see_secret_religion" "can_swapjob_title" "can_use_cb" "character" "check_variable" "daimed_by" "among_most_powerful_vassals" "artifact" "artifact_age" "artifact_can_be_gifted_to" "artifact_type" "artifact_type_owned_by" "attribute_diff" "at_location" "base_health" "borders_lake" "borders_major_river" "calc_true_if" "can_be_given_away" "can_change_religion" "can_call_crusade" "adventurer" "age" "age_diff" "ai_ambition" "ai_greed" "ai_honor" "ai_rationality" "ai_zeal_always"
						 "had" "not" "have" "artifact"  "culture" "culture_group" "is_in_society" "recalc_succession""drowned_god" "seven_gods" 
						 "on_startup" "on_yearly_pulse" "on_bi_yearly_pulse" "on_five_year_pulse" "namespace"
						 ))
			 
			 (x-functionsid '( "id" "desc" "picture" "border" "major" "is_triggered_only" "triggered_from_code" "hide_from" "hide_new" "hide_window" "show_root" ; yellow !w
							  "show_from_from" "show_from_from_from" "sound" "notification" "name" "value" "is_ruler" "path" "user_dir" "archive" "replace_path" "dependencies"
							  "tags" "supported_chechsums" "slots" "spawn_date" "max_amount" "factor"
							  "is_high_prio" "always" "title" "is_nomadic" "is_councillor" 

							  ))
			 
			 (x-functions '( "character_event" "long_character_event" "letter_event" "narrative_event" "province_event" "diploresponse_event" "unit_event" "society_quest_event" ; pink
							"option" "trigger" "mean_time_to_happen" "weight_multiplayer" "immediate"  "effect"))

			 ;; generate regex string for each category of keywords
			 (x-keywords-regexp (regexp-opt x-keywords 'symbols)) ;; S
  			 (x-types-regexp (regexp-opt x-types 'symbols))
			 (x-traits-regexp (regexp-opt x-traits 'symbols)) ;; S
			 (x-constants-regexp (regexp-opt x-constants 'words))
			 (x-events-regexp (regexp-opt x-events 'symbols)) ;; S
			 (x-functionsid-regexp (regexp-opt x-functionsid 'words))
			 (x-functions-regexp (regexp-opt x-functions 'words)))

		  `(
		    (,x-types-regexp . font-lock-type-face)
			(,x-constants-regexp . font-lock-constant-face)
			(,x-events-regexp . font-lock-string-face)			
			(,x-traits-regexp . font-lock-warning-face) 
			(,x-functionsid-regexp . font-lock-doc-face)
			(,x-functions-regexp . font-lock-function-name-face)
			(,x-keywords-regexp . font-lock-keyword-face)
			;; note: order above matters, because once colored, that part won't change.
			;; in general, put longer words first
			)))

;;;###autoload
(define-derived-mode ck2-mode lua-mode "crusader kings 2 mode" ;; do you have lua-mode?
					 "Major mode for editing ck2 (Crusader Kings 2)â€¦"

					 (setq font-lock-defaults '((ck2-font-lock-keywords))))

;; add the mode to the `features' list
(provide 'ck2-mode)

(add-hook 'lua-mode-hook
		  (lambda ()
			  (modify-syntax-entry ?\' "." lua-mode-syntax-table)))

(setq auto-mode-alist (append '(("\\.txt$" . ck2-mode))
							  '(("\\.csv$" . ck2-mode))
							  '(("\\.gfx$" . ck2-mode))
							  '(("\\.el$" . emacs-lisp-mode))
							  auto-mode-alist)) ;; imporant
